<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="jquery-1.4.4.js"></script>
<script type="text/javascript" src="jquery.tmpl.js"></script>
<h1>Super Yahoo pipes</h1>
</head>
<body>
<div id="news">
</div>
<script id="bookTemplate" type="text/x-jQuery-tmpl">
<div id="article-${count()}">
    <div id="img-${count()}"><img height="50" id="image-${count()}" src=
    ${enclosure.url}
    width="50"></div>
    <div id="title-${count()}">
        ${title}
    </div>
    <div id="summary-${count()}">
        ${description}
    </div>20
    <div id="lnk-${count()}">
        <a href=${link}
        id="article-link-${count()}">-&gt;</a>
    </div>
</div>
</script>
<script type="text/javascript">
    var iii = 0;
    function count()
    {
        return iii++;
    }
</script>
        <script type="text/javascript">
            // -----------------------------------------------------------------------------------------
            // receive news from yahoo server
            // -----------------------------------------------------------------------------------------
            window.onload = function () {
                //Create a SCRIPT element.
                var script = document.createElement("script");
                //Set the Type.
                script.type = "text/javascript";
                //Set the source to the URL the JSON Service.
                script.src = "http://pipes.yahoo.com/pipes/pipe.run?_id=e9a2e77dffb3205d035c4e311d77bbe6&_render=json&_callback=DisplayNews";
               //Append the script element to the HEAD section.
                document.getElementsByTagName("head")[0].appendChild(script);
            };

            // -----------------------------------------------------------------------------------------
            // Display all received news on the page
            // -----------------------------------------------------------------------------------------
            function DisplayNews(response) {
                $("#bookTemplate").tmpl(response.value.items).appendTo("#news"); 
            }
        </script>
    </body>
</html>